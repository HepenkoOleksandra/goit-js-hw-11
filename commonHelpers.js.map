{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// import css from \"file.css\";\n\nconst refs = {\n    form: document.querySelector('.get-category'),\n    input: document.querySelector('.query-category'),\n    galleryList: document.querySelector('.gallery')\n}\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nlet gallery = new SimpleLightbox('.gallery-link', {\n  captionsData: \"alt\",\n  captionDelay: 500\n});\n\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n \n    const query = e.target.elements.query.value.trim();\n    isSameKey(query);\n   \nif (query === '') {\n        alert('Please enter a category name'); // iziToast \n        return;\n    }\n\n    getGallery(query).then(data => { \n        if (data.hits.length === 0) {\n            iziToast.show({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                messageColor: 'green',\n                backgroundColor: '#e3f2ff',\n                position: 'topRight',\n            });\n        } else {\n            \n            renderGallery(data);\n            \n        }\n        \n    });\n\n    e.target.reset();\n}\n\n// Перевірка на те, чи ключове слово є те саме\nfunction isSameKey(newKey) {\n  // Отримання попереднього ключового слова, яке було використане\n  const previousKey = sessionStorage.getItem('category');\n  \n  if (previousKey && previousKey === newKey) {\n    return true; // Ключове слово є те саме\n  } else {\n    // Очищення вмісту галереї\n    refs.galleryList.innerHTML = ''; \n    \n    // Збереження нового ключового слова в sessionStorage\n    sessionStorage.setItem('category', newKey);\n    \n    return false; // Ключове слово є новим\n  }\n}\n\nfunction getGallery(category) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = new URLSearchParams({\n        key: \"42112521-3ff4dfc201bab0977369cd2bc\",\n        q: `${category}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n    const url = `${BASE_URL}${END_POINT}?${PARAMS}`;\n\n   return fetch(url).then(res => res.json());\n   \n}\n\n\nfunction galleryTemplate(element) {\n    const {largeImageURL, webformatURL, tags, likes, views, comments, downloads} = element;\n    return `\n   <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <div class=\"gallery-body\">\n            <p class=\"gallery-info\">Likes: ${likes}</p>\n            <p class=\"gallery-info\">Views: ${views}</p>\n            <p class=\"gallery-info\">Comments: ${comments}</p>\n            <p class=\"gallery-info\">Downloads: ${downloads}</p>\n        </div>\n    </li>`\n}\n\nfunction renderGallery(elements) {\n    const markup = elements.hits.map((element)=>{return galleryTemplate(element)})\n        .join('\\n');\n       \n    refs.galleryList.insertAdjacentHTML('beforeend', markup);\n    \n    gallery.refresh();   \n}\n\n\n\n\n\n\n\n// Зберігаємо всі додані картинки у масиві\nlet addedImages = [];\n\n// Функція, яка перевіряє, чи була додана картинка раніше\nfunction isImageAdded(imageUrl) {\n  return addedImages.includes(imageUrl);\n}\n\n// Додаємо картинку до переднього плану\nfunction addImageToForeground(imageUrl) {\n  // Перевіряємо, чи картинка не була додана раніше\n  if (!isImageAdded(imageUrl)) {\n    addedImages.push(imageUrl);\n\n    // Ваш код для додавання картинки до переднього плану тут\n\n    console.log('Картинка була успішно додана!');\n  } else {\n    console.log('Ця картинка вже була додана!');\n  }\n}\n\n// Приклад використання\naddImageToForeground('http://example.com/image1.jpg'); // Додана нова картинка\naddImageToForeground('http://example.com/image2.jpg'); // Додана нова картинка\naddImageToForeground('http://example.com/image1.jpg'); // Картинка вже була додана\n\n\n\n"],"names":["refs","onFormSubmit","gallery","SimpleLightbox","e","query","isSameKey","getGallery","data","iziToast","renderGallery","newKey","previousKey","category","BASE_URL","END_POINT","PARAMS","url","res","galleryTemplate","element","largeImageURL","webformatURL","tags","likes","views","comments","downloads","elements","markup","addedImages","isImageAdded","imageUrl","addImageToForeground"],"mappings":"6vBAMA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,eAAe,EAC5C,MAAO,SAAS,cAAc,iBAAiB,EAC/C,YAAa,SAAS,cAAc,UAAU,CAClD,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,IAAIC,EAAU,IAAIC,EAAe,gBAAiB,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASF,EAAaG,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMC,EAAQD,EAAE,OAAO,SAAS,MAAM,MAAM,OAGhD,GAFIE,EAAUD,CAAK,EAEfA,IAAU,GAAI,CACV,MAAM,8BAA8B,EACpC,MACH,CAEDE,EAAWF,CAAK,EAAE,KAAKG,GAAQ,CACvBA,EAAK,KAAK,SAAW,EACrBC,EAAS,KAAK,CACV,QAAS,2EACT,aAAc,QACd,gBAAiB,UACjB,SAAU,UAC1B,CAAa,EAGDC,EAAcF,CAAI,CAI9B,CAAK,EAEDJ,EAAE,OAAO,OACb,CAGA,SAASE,EAAUK,EAAQ,CAEzB,MAAMC,EAAc,eAAe,QAAQ,UAAU,EAErD,OAAIA,GAAeA,IAAgBD,EAC1B,IAGPX,EAAK,YAAY,UAAY,GAG7B,eAAe,QAAQ,WAAYW,CAAM,EAElC,GAEX,CAEA,SAASJ,EAAWM,EAAU,CAC1B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAG,GAAGH,IACN,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EACKI,EAAM,GAAGH,IAAWC,KAAaC,IAExC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAE3C,CAGA,SAASC,EAAgBC,EAAS,CAC9B,KAAM,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAC/E,MAAO;AAAA;AAAA,wCAE6BC;AAAA,8CACMC,WAAsBC;AAAA;AAAA;AAAA,6CAGvBC;AAAA,6CACAC;AAAA,gDACGC;AAAA,iDACCC;AAAA;AAAA,UAGjD,CAEA,SAASjB,EAAckB,EAAU,CAC7B,MAAMC,EAASD,EAAS,KAAK,IAAKR,GAAkBD,EAAgBC,CAAO,CAAE,EACxE,KAAK;AAAA,CAAI,EAEdpB,EAAK,YAAY,mBAAmB,YAAa6B,CAAM,EAEvD3B,EAAQ,QAAO,CACnB,CASA,IAAI4B,EAAc,CAAA,EAGlB,SAASC,EAAaC,EAAU,CAC9B,OAAOF,EAAY,SAASE,CAAQ,CACtC,CAGA,SAASC,EAAqBD,EAAU,CAEjCD,EAAaC,CAAQ,EAOxB,QAAQ,IAAI,8BAA8B,GAN1CF,EAAY,KAAKE,CAAQ,EAIzB,QAAQ,IAAI,+BAA+B,EAI/C,CAGAC,EAAqB,+BAA+B,EACpDA,EAAqB,+BAA+B,EACpDA,EAAqB,+BAA+B"}